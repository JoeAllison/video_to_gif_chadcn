<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video to GIF Converter - Powered by ADS Drone</title>
    <meta name="description" content="Convert videos to animated GIFs using the ADS Drone design system">
    
    <!-- Google Fonts - Inter (Drone's preferred font) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome 6 for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Drone Design System Styles -->
    <link rel="stylesheet" href="drone-styles.css">
    
    <!-- GIF.js Worker Configuration -->
    <script>
        window.GIF_WORKER_PATH = 'gif.worker.js';
    </script>
</head>
<body>
    <!-- Header with Drone branding -->
    <header class="drone-bg--neutral drone-p-6">
        <div class="drone-container">
            <div class="drone-flex drone-flex--between">
                <div class="drone-flex drone-flex--start">
                    <div class="drone-m-4">
                        <i class="fas fa-video drone-text--primary" style="font-size: 2rem;"></i>
                    </div>
                    <div>
                        <h1 class="drone-text--xl drone-text--bold drone-text--neutral drone-m-0">Video to GIF Converter</h1>
                        <p class="drone-text--sm drone-text--neutral drone-m-0">Powered by ADS Drone Design System</p>
                    </div>
                </div>
                <div class="agoda-logo drone-m-4">
                    <img src="_images/Agoda_logo_2019.png" alt="Agoda Logo" class="agoda-logo-img">
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="drone-container drone-p-8">
        <div class="drone-grid drone-grid--cols-1" style="max-width: 800px; margin: 0 auto;">
            
            <!-- Upload Section -->
            <div class="drone-card drone-card--default drone-card--md drone-m-6">
                <div class="drone-p-6">
                    <div class="drone-text--center drone-m-6">
                        <i class="fas fa-cloud-upload-alt drone-text--primary" style="font-size: 3rem; margin-bottom: var(--drone-space-4);"></i>
                        <h2 class="drone-text--2xl drone-text--bold drone-text--neutral drone-m-4">Upload Your Video</h2>
                        <p class="drone-text--base drone-text--neutral drone-m-0">Drag and drop your video file or click to browse</p>
                    </div>
                    
                    <div class="upload-area drone-bg--neutral drone-p-8" id="uploadArea" style="border: 2px dashed var(--drone-neutral-300); border-radius: var(--drone-radius-xl); text-align: center; cursor: pointer; transition: all var(--drone-transition-normal);">
                        <div class="upload-icon drone-m-4">
                            <i class="fas fa-video drone-text--primary" style="font-size: 4rem;"></i>
                        </div>
                        <div class="upload-text">
                            <h3 class="drone-text--lg drone-text--semibold drone-text--neutral drone-m-4">Drop your video file here</h3>
                            <p class="drone-text--base drone-text--neutral drone-m-0">or click to browse</p>
                        </div>
                        <input type="file" id="fileInput" accept="video/mp4,video/*" class="file-input" style="display: none;">
                    </div>
                    <div class="drone-text--center drone-m-4">
                        <p class="drone-text--sm drone-text--neutral drone-m-0">
                            <i class="fas fa-info-circle drone-text--primary drone-m-1"></i>
                            Supports MP4, MOV, AVI, WebM, and other video formats
                        </p>
                    </div>
                </div>
            </div>

            <!-- Video Preview Section -->
            <div class="drone-card drone-card--default drone-card--md drone-m-6 hidden" id="videoSection">
                <div class="drone-p-6">
                    <h3 class="drone-text--xl drone-text--bold drone-text--neutral drone-m-4">Video Preview</h3>
                    <div class="video-preview drone-m-4" style="text-align: center;">
                        <video id="videoPlayer" controls style="max-width: 100%; border-radius: var(--drone-radius-lg);">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls Section -->
            <div class="drone-card drone-card--default drone-card--md drone-m-6 hidden" id="controlsSection">
                <div class="drone-p-6">
                    <h3 class="drone-text--xl drone-text--bold drone-text--neutral drone-m-4">Conversion Settings</h3>
                    
                    <div class="drone-grid drone-grid--cols-2 drone-m-6" style="gap: var(--drone-space-8);">
                        <!-- FPS Control -->
                        <div class="control-group">
                            <label for="fpsSlider" class="drone-text--base drone-text--medium drone-text--neutral drone-m-2">Frames per Second (FPS)</label>
                            <div class="drone-flex drone-flex--between drone-m-2">
                                <span class="drone-text--sm drone-text--neutral">1</span>
                                <span class="drone-text--sm drone-text--neutral">30</span>
                            </div>
                            <input type="range" id="fpsSlider" min="1" max="30" value="10" class="drone-input drone-input--default drone-input--lg">
                            <div class="value-display drone-text--center drone-m-2">
                                <span id="fpsValue" class="drone-text--lg drone-text--bold drone-text--primary">10</span> FPS
                            </div>
                        </div>

                        <!-- Quality Control -->
                        <div class="control-group">
                            <label for="qualitySlider" class="drone-text--base drone-text--medium drone-text--neutral drone-m-2">Quality</label>
                            <div class="drone-flex drone-flex--between drone-m-2">
                                <span class="drone-text--sm drone-text--neutral">Low</span>
                                <span class="drone-text--sm drone-text--neutral">High</span>
                            </div>
                            <input type="range" id="qualitySlider" min="1" max="10" value="7" class="drone-input drone-input--default drone-input--lg">
                            <div class="value-display drone-text--center drone-m-2">
                                <span id="qualityValue" class="drone-text--lg drone-text--bold drone-text--primary">7</span> / 10
                            </div>
                        </div>
                    </div>

                    <div class="drone-text--center drone-m-6">
                        <button id="startBtn" class="drone-btn drone-btn--primary drone-btn--lg drone-m-4">
                            <i class="fas fa-play drone-m-2"></i>
                            Start Conversion
                        </button>
                        <button id="resetBtn" class="drone-btn drone-btn--secondary drone-btn--lg drone-m-4">
                            <i class="fas fa-redo drone-m-2"></i>
                            Reset
                        </button>
                    </div>
                </div>
            </div>

            <!-- Progress Section -->
            <div class="drone-card drone-card--default drone-card--md drone-m-6 hidden" id="progressSection">
                <div class="drone-p-6">
                    <h3 class="drone-text--xl drone-text--bold drone-text--neutral drone-m-4">Converting Video...</h3>
                    
                    <div class="drone-progress drone-progress--linear drone-progress--primary drone-progress--lg drone-m-6">
                        <div class="drone-progress__bar" id="progressBar" style="width: 0%;"></div>
                    </div>
                    
                    <div class="drone-text--center drone-m-4">
                        <p id="progressText" class="drone-text--base drone-text--neutral drone-m-0">Processing frames...</p>
                        <p id="progressPercent" class="drone-text--lg drone-text--bold drone-text--primary drone-m-2">0%</p>
                    </div>
                </div>
            </div>

            <!-- Output Section -->
            <div class="drone-card drone-card--default drone-card--md drone-m-6 hidden" id="outputSection">
                <div class="drone-p-6">
                    <h3 class="drone-text--xl drone-text--bold drone-text--neutral drone-m-4">Your Animated GIF</h3>
                    
                    <div class="gif-container drone-m-6" style="text-align: center;">
                        <div class="gif-output drone-m-4" id="gifOutput" style="border: 2px solid var(--drone-neutral-200); border-radius: var(--drone-radius-lg); padding: var(--drone-space-4); background: var(--drone-neutral-50);">
                            <!-- GIF will be displayed here -->
                        </div>
                    </div>
                    
                    <div class="output-actions drone-text--center drone-m-6">
                        <button id="downloadBtn" class="drone-btn drone-btn--success drone-btn--lg drone-m-4">
                            <i class="fas fa-download drone-m-2"></i>
                            Download Animated GIF
                        </button>
                        <button id="convertAnotherBtn" class="drone-btn drone-btn--secondary drone-btn--lg drone-m-4">
                            <i class="fas fa-redo drone-m-2"></i>
                            Convert Another Video
                        </button>
                    </div>
                </div>
            </div>

            <!-- Error Section -->
            <div class="drone-card drone-card--error drone-card--md drone-m-6 hidden" id="errorSection">
                <div class="drone-p-6">
                    <div class="drone-text--center drone-m-4">
                        <i class="fas fa-exclamation-triangle drone-text--error" style="font-size: 3rem; margin-bottom: var(--drone-space-4);"></i>
                        <h3 class="drone-text--xl drone-text--bold drone-text--error drone-m-4">Oops! Something went wrong</h3>
                        <p id="errorMessage" class="drone-text--base drone-text--neutral drone-m-4">An error occurred during conversion.</p>
                        <button id="errorCloseBtn" class="drone-btn drone-btn--secondary drone-btn--md drone-m-4">
                            <i class="fas fa-times drone-m-2"></i>
                            Close
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="drone-bg--neutral drone-p-6 drone-m-8">
        <div class="drone-container">
            <div class="drone-text--center">
                <p class="drone-text--sm drone-text--neutral drone-m-0">
                    Built with <i class="fas fa-heart drone-text--error"></i> using the 
                    <span class="drone-text--primary drone-text--medium">ADS Drone Design System</span>
                </p>
                <p class="drone-text--xs drone-text--neutral drone-m-2">
                    Convert your videos to animated GIFs with professional quality
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gif.js/0.2.0/gif.js"></script>
    <script src="drone-ui-integration.js"></script>
    <script src="script.js"></script>
</body>
</html>
